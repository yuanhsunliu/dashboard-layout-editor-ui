# Line Chart å¢å¼·åŠŸèƒ½

## Why

ç›®å‰ Line Chart åŠŸèƒ½è¼ƒåŸºç¤ï¼Œç„¡æ³•æ»¿è¶³ä»¥ä¸‹é€²éšéœ€æ±‚ï¼š
1. **å·¦å³è»¸ä¸åŒé‡ç¶±**ï¼šç„¡æ³•åœ¨åŒä¸€åœ–è¡¨ä¸­é¡¯ç¤ºä¸åŒå–®ä½çš„æŒ‡æ¨™ï¼ˆå¦‚ï¼šéŠ·å”®é¡ vs æˆé•·ç‡%ï¼‰
2. **éšå±¤å¼ X è»¸**ï¼šç„¡æ³•å‘ˆç¾å¤šå±¤ç´šåˆ†é¡ï¼ˆå¦‚ï¼šæ¿ƒåº¦ > é‡è¤‡æ¬¡æ•¸ï¼‰
3. **Series åˆ†ç¾¤**ï¼šç„¡æ³•ä¾æ“šæŸæ¬„ä½è‡ªå‹•ç”¢ç”Ÿå¤šæ¢ series

## What Changes

### æ–°å¢åŠŸèƒ½

1. **é›™ Y è»¸æ”¯æ´**
   - `leftYAxisFields: string[]` - å·¦è»¸æ¬„ä½ï¼ˆä¸»è»¸ï¼‰
   - `rightYAxisFields: string[]` - å³è»¸æ¬„ä½ï¼ˆæ¬¡è»¸ï¼‰
   - å–ä»£ç¾æœ‰ `yAxisFields`

2. **éšå±¤å¼ X è»¸**
   - `outerXAxisField: string` - å¤–å±¤ X è»¸æ¬„ä½
   - `innerXAxisField: string` - å…§å±¤ X è»¸æ¬„ä½
   - `outerXAxisSort: 'asc' | 'desc' | 'data'` - å¤–å±¤æ’åºæ–¹å¼
   - `innerXAxisSort: 'asc' | 'desc' | 'data'` - å…§å±¤æ’åºæ–¹å¼
   - é ˆåŒæ™‚å¡«æˆ–åŒæ™‚ä¸å¡«ï¼Œæœªå¡«æ™‚ä½¿ç”¨ç¾æœ‰ `xAxisField`

3. **Series åˆ†ç¾¤**
   - `groupByField: string` - åˆ†ç¾¤æ¬„ä½ï¼ˆé¸å¡«ï¼‰
   - `groupBySort: 'asc' | 'desc' | 'data'` - åˆ†ç¾¤æ’åºæ–¹å¼

### è¨­å®š UI èª¿æ•´

1. **é€²éšè¨­å®šæ”¶åˆ**
   - åŸºæœ¬è¨­å®šï¼šX è»¸æ¬„ä½ã€Y è»¸æ¬„ä½
   - é€²éšè¨­å®šï¼ˆæ”¶åˆï¼‰ï¼š
     - éšå±¤å¼ X è»¸ï¼ˆå¤–å±¤/å…§å±¤ï¼‰
     - é›™ Y è»¸ï¼ˆå·¦è»¸/å³è»¸ï¼‰
     - Series åˆ†ç¾¤

2. **æ¬„ä½åˆ‡æ›é‚è¼¯**
   - å•Ÿç”¨éšå±¤å¼ X è»¸ â†’ éš±è—åŸæœ¬çš„ X è»¸æ¬„ä½ï¼Œé¡¯ç¤ºå¤–å±¤/å…§å±¤
   - å•Ÿç”¨é›™ Y è»¸ â†’ éš±è—åŸæœ¬çš„ Y è»¸æ¬„ä½ï¼Œé¡¯ç¤ºå·¦è»¸/å³è»¸

### é™åˆ¶æ¢ä»¶

| æ¢ä»¶ | é™åˆ¶ |
|------|------|
| groupByField å•Ÿç”¨æ™‚ | åªèƒ½é¸ **å–®ä¸€** Y è»¸æ¬„ä½ï¼ˆå·¦æˆ–å³æ“‡ä¸€ï¼‰ |
| groupByField æœªå•Ÿç”¨æ™‚ | å¯åŒæ™‚ä½¿ç”¨å·¦å³è»¸å¤šæ¬„ä½ |
| éšå±¤å¼ X è»¸ + groupByField | âœ… å…è¨±åŒæ™‚ä½¿ç”¨ |

### è³‡æ–™æ ¼å¼

å‡è¨­è³‡æ–™ç‚º **é•·è¡¨æ ¼ï¼ˆLong Formatï¼‰**ï¼Œç¬¦åˆ SQL æŸ¥è©¢è¼¸å‡ºï¼š

```json
[
  { "concentration": 25, "replicate": "R1", "sample": "AC1", "value": 3.2 },
  { "concentration": 25, "replicate": "R1", "sample": "P8", "value": 3.4 },
  ...
]
```

### å‘ä¸‹ç›¸å®¹

| ç¾æœ‰æ¬„ä½ | è™•ç†æ–¹å¼ |
|---------|---------|
| `xAxisField` | ä¿ç•™ï¼Œç•¶ outerXAxisField/innerXAxisField çš†æœªè¨­å®šæ™‚ä½¿ç”¨ |
| `yAxisFields` | é·ç§»è‡³ `leftYAxisFields` |

## Impact

### å½±éŸ¿ç¯„åœ

| æª”æ¡ˆ/æ¨¡çµ„ | è®Šæ›´é¡å‹ |
|-----------|---------|
| `src/features/chart-plugins/plugins/line/schema.ts` | æ“´å±• Schema |
| `src/features/chart-plugins/plugins/line/ConfigFields.tsx` | æ–°å¢é€²éšè¨­å®š UI |
| `src/features/chart-plugins/plugins/line/LineChartRenderer.tsx` | æ”¯æ´é›™è»¸ã€éšå±¤å¼ X è»¸ã€groupBy |

### ä¸å½±éŸ¿

- å…¶ä»– Chart Pluginï¼ˆBar, Pie ç­‰ï¼‰
- Widget Layout ç³»çµ±
- Cross-Widget Interaction

## ä½¿ç”¨æƒ…å¢ƒç¯„ä¾‹

### ç¯„ä¾‹ï¼šå¯¦é©—æ•¸æ“šåœ–è¡¨

è¨­å®šï¼š
```typescript
{
  chartType: 'line',
  outerXAxisField: 'concentration',  // 25, 50, 100, 250
  outerXAxisSort: 'asc',
  innerXAxisField: 'replicate',       // R1, R2, R3
  innerXAxisSort: 'asc',
  leftYAxisFields: ['value'],
  groupByField: 'sample',             // AC1, P8, NB, Bca, S8
  groupBySort: 'asc',
}
```

çµæœï¼š
```
         ğŸ“ˆ åœ–è¡¨
         
  â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€  â† AC1
  â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€â—‹â”€â”€  â† P8
  â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€â– â”€â”€  â† NB
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    R1 R2 R3   R1 R2 R3   R1 R2 R3   R1 R2 R3   â† å…§å±¤
       25         50        100        250      â† å¤–å±¤
```
